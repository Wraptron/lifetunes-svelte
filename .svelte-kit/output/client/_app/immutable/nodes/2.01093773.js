var Ce=Object.defineProperty;var ke=(l,e,t)=>e in l?Ce(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var st=(l,e,t)=>(ke(l,typeof e!="symbol"?e+"":e,t),t);import{s as Vt,f as Pt,n as gt,r as ye,e as I,h as rt,o as we}from"../chunks/scheduler.7fbc3286.js";import{S as Bt,i as Dt,g as c,s as P,m as Et,h as d,j as w,y as g,c as E,f as m,n as Nt,k as f,z as x,a as it,x as i,A as ot,B as F,o as Te,C as Oe,D as At,l as le,E as ve,e as oe,r as re,u as ae,v as se,d as ie,t as ue,w as ce}from"../chunks/index.afb51b63.js";import{w as X}from"../chunks/index.cac7de8a.js";function vt(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function me(l,e){const t=[];for(let o=0;o<l;o++){const n=[];for(let a=0;a<e;a++)n.push(0);t.push(n)}return t}function Ie(l,e){const t=[];for(let o=0;o<l;o++){const n=[];for(let a=0;a<e;a++)n.push(Math.random()>.5?1:0);t.push(n)}return t}function Pe(l,e){const t=new Array(l).fill(null).map(()=>new Array(e).fill(0));return t[1][2]=1,t[2][3]=1,t[3][1]=1,t[3][2]=1,t[3][3]=1,t}function Ee(l,e){const t=new Array(l).fill(0).map(()=>new Array(e).fill(0)),o=Math.floor(l/2),n=Math.floor(e/2);return t[o-1][n-2]=1,t[o-1][n+2]=1,t[o-1][n-3]=1,t[o-1][n+3]=1,t[o+1][n-3]=1,t[o+1][n+3]=1,t[o-2][n-1]=1,t[o-2][n]=1,t[o-2][n+1]=1,t[o+2][n-1]=1,t[o+2][n]=1,t[o+2][n+1]=1,t}function Ne(l,e){const t=new Array(l).fill(null).map(()=>new Array(e).fill(0));return t[2][1]=1,t[2][2]=1,t[2][3]=1,t}function Ae(l){const e=l.length,t=l[0].length,o=[];for(let n=0;n<e;n++){const a=[];for(let r=0;r<t;r++){let s=0;for(let p=-1;p<=1;p++)for(let h=-1;h<=1;h++){if(p===0&&h===0)continue;const y=(n+p+e)%e,T=(r+h+t)%t;l[y][T]===1&&s++}const u=l[n][r];u&&(s<2||s>3)?a.push(0):!u&&s===3?a.push(1):a.push(u)}o.push(a)}return o}const be=X(12),xe=X(12),Le=me(12,12),K=X(Le),Mt=X(!1),Lt=X(30),de=X("0"),St=X("sine"),fe=X("");function Se(l){K.set(l)}function Ve(){Mt.set(!0)}function Be(){Mt.set(!1)}function De(l){let e,t,o,n='<img class="w-20 h-20" alt="play" src="/images/play.svg"/>',a,r,s='<img class="w-20 h-20" alt="pause" src="/images/pause.svg"/>',u,p,h,y="Time / Tempo",T,C,at,_,mt,ut,bt,xt,Y,W,Gt="Initial pattern",Ct,b,A,Rt="Choose an option",V,jt="Blank",B,Ht="Random",D,qt="Glider",M,Ut="Blinker",G,zt="Pulsar",kt,Z,J,Ft="Oscillator",yt,k,L,Kt="Choose an option",R,Wt="Sine",j,Jt="Square",H,Qt="Sawtooth",q,Xt="Triangle",wt,et,Yt="",Tt,$,Q,Zt="Filter",Ot,O,S,$t="Choose an option",U,te="Kick Drum",z,ee="White Noise",It,ne;return{c(){e=c("div"),t=c("div"),o=c("button"),o.innerHTML=n,a=P(),r=c("button"),r.innerHTML=s,u=P(),p=c("div"),h=c("label"),h.textContent=y,T=P(),C=c("input"),at=P(),_=c("p"),mt=Et("Tempo: "),ut=Et(l[1]),bt=Et(" BPM"),xt=P(),Y=c("div"),W=c("label"),W.textContent=Gt,Ct=P(),b=c("select"),A=c("option"),A.textContent=Rt,V=c("option"),V.textContent=jt,B=c("option"),B.textContent=Ht,D=c("option"),D.textContent=qt,M=c("option"),M.textContent=Ut,G=c("option"),G.textContent=zt,kt=P(),Z=c("div"),J=c("label"),J.textContent=Ft,yt=P(),k=c("select"),L=c("option"),L.textContent=Kt,R=c("option"),R.textContent=Wt,j=c("option"),j.textContent=Jt,H=c("option"),H.textContent=Qt,q=c("option"),q.textContent=Xt,wt=P(),et=c("div"),et.innerHTML=Yt,Tt=P(),$=c("div"),Q=c("label"),Q.textContent=Zt,Ot=P(),O=c("select"),S=c("option"),S.textContent=$t,U=c("option"),U.textContent=te,z=c("option"),z.textContent=ee,this.h()},l(N){e=d(N,"DIV",{class:!0});var v=w(e);t=d(v,"DIV",{class:!0});var ct=w(t);o=d(ct,"BUTTON",{class:!0,"data-svelte-h":!0}),g(o)!=="svelte-12ts4yx"&&(o.innerHTML=n),a=E(ct),r=d(ct,"BUTTON",{class:!0,"data-svelte-h":!0}),g(r)!=="svelte-m8ffg1"&&(r.innerHTML=s),ct.forEach(m),u=E(v),p=d(v,"DIV",{});var nt=w(p);h=d(nt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),g(h)!=="svelte-1p5ilbe"&&(h.textContent=y),T=E(nt),C=d(nt,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0,class:!0}),at=E(nt),_=d(nt,"P",{});var dt=w(_);mt=Nt(dt,"Tempo: "),ut=Nt(dt,l[1]),bt=Nt(dt," BPM"),dt.forEach(m),nt.forEach(m),xt=E(v),Y=d(v,"DIV",{});var ft=w(Y);W=d(ft,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),g(W)!=="svelte-du7ub"&&(W.textContent=Gt),Ct=E(ft),b=d(ft,"SELECT",{id:!0,class:!0});var tt=w(b);A=d(tt,"OPTION",{"data-svelte-h":!0}),g(A)!=="svelte-12iuktg"&&(A.textContent=Rt),V=d(tt,"OPTION",{"data-svelte-h":!0}),g(V)!=="svelte-y8yrlg"&&(V.textContent=jt),B=d(tt,"OPTION",{"data-svelte-h":!0}),g(B)!=="svelte-tgakj8"&&(B.textContent=Ht),D=d(tt,"OPTION",{"data-svelte-h":!0}),g(D)!=="svelte-12p17d3"&&(D.textContent=qt),M=d(tt,"OPTION",{"data-svelte-h":!0}),g(M)!=="svelte-13um6uc"&&(M.textContent=Ut),G=d(tt,"OPTION",{"data-svelte-h":!0}),g(G)!=="svelte-19kt2b1"&&(G.textContent=zt),tt.forEach(m),ft.forEach(m),kt=E(v),Z=d(v,"DIV",{});var ht=w(Z);J=d(ht,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),g(J)!=="svelte-1ad9ect"&&(J.textContent=Ft),yt=E(ht),k=d(ht,"SELECT",{id:!0,class:!0});var lt=w(k);L=d(lt,"OPTION",{"data-svelte-h":!0}),g(L)!=="svelte-12iuktg"&&(L.textContent=Kt),R=d(lt,"OPTION",{"data-svelte-h":!0}),g(R)!=="svelte-1mpn6cq"&&(R.textContent=Wt),j=d(lt,"OPTION",{"data-svelte-h":!0}),g(j)!=="svelte-bkgndu"&&(j.textContent=Jt),H=d(lt,"OPTION",{"data-svelte-h":!0}),g(H)!=="svelte-ho9hji"&&(H.textContent=Qt),q=d(lt,"OPTION",{"data-svelte-h":!0}),g(q)!=="svelte-1f5nbzi"&&(q.textContent=Xt),lt.forEach(m),ht.forEach(m),wt=E(v),et=d(v,"DIV",{"data-svelte-h":!0}),g(et)!=="svelte-101n26y"&&(et.innerHTML=Yt),Tt=E(v),$=d(v,"DIV",{});var pt=w($);Q=d(pt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),g(Q)!=="svelte-1ibvv5s"&&(Q.textContent=Zt),Ot=E(pt),O=d(pt,"SELECT",{id:!0,class:!0});var _t=w(O);S=d(_t,"OPTION",{"data-svelte-h":!0}),g(S)!=="svelte-12iuktg"&&(S.textContent=$t),U=d(_t,"OPTION",{"data-svelte-h":!0}),g(U)!=="svelte-4sg2ps"&&(U.textContent=te),z=d(_t,"OPTION",{"data-svelte-h":!0}),g(z)!=="svelte-1k7ggja"&&(z.textContent=ee),_t.forEach(m),pt.forEach(m),v.forEach(m),this.h()},h(){f(o,"class","rounded-full mx-4 text-white bg-purple-300 hover:bg-purple-400 focus:outline-none focus:ring-4 focus:ring-purple-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900"),f(r,"class","rounded-full mx-4 text-white bg-purple-300 hover:bg-purple-400 focus:outline-none focus:ring-4 focus:ring-purple-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900"),f(t,"class","flex justify-center"),f(h,"for","tempo-range"),f(h,"class","block mb-2 text-sm font-medium text-gray-900 dark:text-white"),f(C,"id","tempo-range"),f(C,"type","range"),f(C,"min","30"),f(C,"max","244"),f(C,"step","1"),f(C,"class","w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"),f(W,"for","initial_pattern"),f(W,"class","block mb-2 text-sm font-medium text-gray-900 dark:text-white"),A.selected=!0,A.__value="Choose an option",x(A,A.__value),V.__value="0",x(V,V.__value),B.__value="1",x(B,B.__value),D.__value="2",x(D,D.__value),M.__value="3",x(M,M.__value),G.__value="4",x(G,G.__value),f(b,"id","initial_pattern"),f(b,"class","bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),l[0]===void 0&&Pt(()=>l[6].call(b)),f(J,"for","oscillator_type"),f(J,"class","block mb-2 text-sm font-medium text-gray-900 dark:text-white"),L.selected=!0,L.__value="Choose an option",x(L,L.__value),R.__value="sine",x(R,R.__value),j.__value="square",x(j,j.__value),H.__value="sawtooth",x(H,H.__value),q.__value="triangle",x(q,q.__value),f(k,"id","oscillator_type"),f(k,"class","bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),l[2]===void 0&&Pt(()=>l[7].call(k)),f(Q,"for","filter"),f(Q,"class","block mb-2 text-sm font-medium text-gray-900 dark:text-white"),S.selected=!0,S.__value="Choose an option",x(S,S.__value),U.__value="kick",x(U,U.__value),z.__value="white",x(z,z.__value),f(O,"id","filter_type"),f(O,"class","bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),l[3]===void 0&&Pt(()=>l[8].call(O)),f(e,"class","container flex flex-col p-4")},m(N,v){it(N,e,v),i(e,t),i(t,o),i(t,a),i(t,r),i(e,u),i(e,p),i(p,h),i(p,T),i(p,C),x(C,l[1]),i(p,at),i(p,_),i(_,mt),i(_,ut),i(_,bt),i(e,xt),i(e,Y),i(Y,W),i(Y,Ct),i(Y,b),i(b,A),i(b,V),i(b,B),i(b,D),i(b,M),i(b,G),ot(b,l[0],!0),i(e,kt),i(e,Z),i(Z,J),i(Z,yt),i(Z,k),i(k,L),i(k,R),i(k,j),i(k,H),i(k,q),ot(k,l[2],!0),i(e,wt),i(e,et),i(e,Tt),i(e,$),i($,Q),i($,Ot),i($,O),i(O,S),i(O,U),i(O,z),ot(O,l[3],!0),It||(ne=[F(o,"click",Ve),F(r,"click",Be),F(C,"change",l[5]),F(C,"input",l[5]),F(b,"change",l[6]),F(b,"change",l[4]),F(k,"change",l[7]),F(O,"change",l[8])],It=!0)},p(N,[v]){v&2&&x(C,N[1]),v&2&&Te(ut,N[1]),v&1&&ot(b,N[0]),v&4&&ot(k,N[2]),v&8&&ot(O,N[3])},i:gt,o:gt,d(N){N&&m(e),It=!1,ye(ne)}}}function Me(l,e,t){let o,n,a,r,s,u,p;I(l,xe,_=>t(9,o=_)),I(l,be,_=>t(10,n=_)),I(l,K,_=>t(11,a=_)),I(l,de,_=>t(0,r=_)),I(l,Lt,_=>t(1,s=_)),I(l,St,_=>t(2,u=_)),I(l,fe,_=>t(3,p=_));function h(_){switch(r){case"0":{rt(K,a=me(n,o),a);break}case"1":{rt(K,a=Ie(n,o),a);break}case"2":{rt(K,a=Pe(n,o),a);break}case"3":{rt(K,a=Ne(n,o),a);break}case"4":{rt(K,a=Ee(n,o),a);break}}}function y(){s=Oe(this.value),Lt.set(s)}function T(){r=At(this),de.set(r)}function C(){u=At(this),St.set(u)}function at(){p=At(this),fe.set(p)}return[r,s,u,p,h,y,T,C,at]}class Ge extends Bt{constructor(e){super(),Dt(this,e,Me,De,Vt,{})}}class Re{constructor(e){st(this,"audioContext");st(this,"oscillator");st(this,"buffer");st(this,"primaryGain");this.audioContext=e,this.buffer=null,this.oscillator=this.audioContext.createOscillator()}play(){this.oscillator.start()}playSound(e,t){this.oscillator.type=t,this.oscillator.frequency.setValueAtTime(e,this.audioContext.currentTime);const o=this.audioContext.createGain();o.gain.setValueAtTime(1,this.audioContext.currentTime),o.gain.exponentialRampToValueAtTime(.001,.2),this.oscillator.connect(o),o.connect(this.audioContext.destination),this.oscillator.stop(this.audioContext.currentTime+.2)}}function he(l,e,t){const o=l.slice();return o[5]=e[t],o[7]=t,o}function pe(l,e,t){const o=l.slice();return o[8]=e[t],o[10]=t,o}function _e(l){let e,t,o,n;function a(){return l[3](l[7],l[10])}return{c(){e=c("div"),this.h()},l(r){e=d(r,"DIV",{class:!0}),w(e).forEach(m),this.h()},h(){f(e,"class",t="cell "+(l[8]?"on":"")+" svelte-o0h4um")},m(r,s){it(r,e,s),o||(n=F(e,"click",a),o=!0)},p(r,s){l=r,s&1&&t!==(t="cell "+(l[8]?"on":"")+" svelte-o0h4um")&&f(e,"class",t)},d(r){r&&m(e),o=!1,n()}}}function ge(l){let e,t=vt(l[5]),o=[];for(let n=0;n<t.length;n+=1)o[n]=_e(pe(l,t,n));return{c(){for(let n=0;n<o.length;n+=1)o[n].c();e=oe()},l(n){for(let a=0;a<o.length;a+=1)o[a].l(n);e=oe()},m(n,a){for(let r=0;r<o.length;r+=1)o[r]&&o[r].m(n,a);it(n,e,a)},p(n,a){if(a&5){t=vt(n[5]);let r;for(r=0;r<t.length;r+=1){const s=pe(n,t,r);o[r]?o[r].p(s,a):(o[r]=_e(s),o[r].c(),o[r].m(e.parentNode,e))}for(;r<o.length;r+=1)o[r].d(1);o.length=t.length}},d(n){n&&m(e),ve(o,n)}}}function je(l){let e,t,o=vt(l[0]),n=[];for(let a=0;a<o.length;a+=1)n[a]=ge(he(l,o,a));return{c(){e=c("div"),t=c("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=d(a,"DIV",{class:!0,style:!0});var r=w(e);t=d(r,"DIV",{class:!0});var s=w(t);for(let u=0;u<n.length;u+=1)n[u].l(s);s.forEach(m),r.forEach(m),this.h()},h(){f(t,"class","grid mx-auto svelte-o0h4um"),f(e,"class","container p-4 flex content-center"),le(e,"--column",l[1])},m(a,r){it(a,e,r),i(e,t);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(t,null)},p(a,[r]){if(r&5){o=vt(a[0]);let s;for(s=0;s<o.length;s+=1){const u=he(a,o,s);n[s]?n[s].p(u,r):(n[s]=ge(u),n[s].c(),n[s].m(t,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=o.length}r&2&&le(e,"--column",a[1])},i:gt,o:gt,d(a){a&&m(e),ve(n,a)}}}function He(l,e,t){let o,n;I(l,xe,u=>t(1,o=u)),I(l,be,u=>t(4,n=u));let{grid:a=Array.from({length:n},()=>Array(o).fill(!1))}=e;function r(u,p){t(0,a[u][p]=!a[u][p],a),Se(a)}const s=(u,p)=>r(u,p);return l.$$set=u=>{"grid"in u&&t(0,a=u.grid)},[a,o,r,s]}class qe extends Bt{constructor(e){super(),Dt(this,e,He,je,Vt,{grid:0})}}function Ue(l){let e,t,o,n,a;return t=new qe({props:{grid:l[0]}}),n=new Ge({}),{c(){e=c("div"),re(t.$$.fragment),o=P(),re(n.$$.fragment),this.h()},l(r){e=d(r,"DIV",{class:!0});var s=w(e);ae(t.$$.fragment,s),o=E(s),ae(n.$$.fragment,s),s.forEach(m),this.h()},h(){f(e,"class","container mx-auto")},m(r,s){it(r,e,s),se(t,e,null),i(e,o),se(n,e,null),a=!0},p(r,[s]){const u={};s&1&&(u.grid=r[0]),t.$set(u)},i(r){a||(ie(t.$$.fragment,r),ie(n.$$.fragment,r),a=!0)},o(r){ue(t.$$.fragment,r),ue(n.$$.fragment,r),a=!1},d(r){r&&m(e),ce(t),ce(n)}}}function ze(l,e,t){let o,n,a,r;I(l,St,h=>t(4,o=h)),I(l,K,h=>t(0,n=h)),I(l,Lt,h=>t(1,a=h)),I(l,Mt,h=>t(2,r=h)),we(()=>{});var s;function u(h,y){let T=6e3/y;h?s=setInterval(()=>{p(),rt(K,n=Ae(n),n)},T):(clearInterval(s),s=0)}function p(){let h=new Re(new AudioContext);h.play();for(let y=0;y<n.length;y++)for(let T=0;T<n[y].length;T++)n[y][T]&&h.playSound(1975.52/((y+1)*1.06),o)}return l.$$.update=()=>{l.$$.dirty&6&&u(r,a)},[n,a,r]}class Qe extends Bt{constructor(e){super(),Dt(this,e,ze,Ue,Vt,{})}}export{Qe as component};
